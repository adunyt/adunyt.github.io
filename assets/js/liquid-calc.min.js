let errorIsShowing,loadingIsShowing,kiloValue,packsValue,valueOfWalls=document.getElementsByName("value-of-walls")[0],hWall=document.getElementsByName("hWalls")[0],wWall=document.getElementsByName("wWalls")[0],valueOfWindows=document.getElementsByName("value-of-windows")[0],hWindow=document.getElementsByName("hWindows")[0],wWindow=document.getElementsByName("wWindows")[0],valueOfDoors=document.getElementsByName("value-of-doors")[0],hDoor=document.getElementsByName("hDoors")[0],wDoor=document.getElementsByName("wDoors")[0],kiloInPack=document.getElementsByName("kilo-in-pack")[0],layers=document.getElementsByName("layers")[0],expence=document.getElementsByName("expence")[0],packs=document.getElementById("packs"),kilo=document.getElementById("kilo"),form=document.getElementById("form"),total=document.getElementById("total"),warn=document.getElementById("warn"),loading=document.getElementById("loading");function displayError(){errorIsShowing||(loadingIsShowing&&removeLoading(),errorIsShowing=!0,warn.style="display: flex;padding: 20px;",total.style="padding: 10px; height: 100%; background-color: var(--bs-danger); filter: blur(5px)")}function removeError(){errorIsShowing&&(errorIsShowing=!1,warn.style="padding: 20px;",total.style="padding: 10px; height: 100%;")}function displayLoading(){loadingIsShowing||errorIsShowing||(loadingIsShowing=!0,loading.style="display: flex;",total.style="padding: 10px; height: 100%; filter: blur(5px)")}function removeLoading(){loadingIsShowing&&(loadingIsShowing=!1,loading.style="",total.style="padding: 10px; height: 100%;")}function addListeners(e){let l=document.getElementsByTagName("input");for(let e=0;e<l.length;e++){l[e].oninput=recalcWithLoading}}function calcS(e,l,o){return e*(l/100)*(o/100)}function recalcWithLoading(){displayLoading(),recalc(),removeLoading()}function recalc(){if(form.checkValidity()){if(sWalls=calcS(valueOfWalls.value,hWall.value,wWall.value),sDoors=calcS(valueOfDoors.value,hDoor.value,wDoor.value),sWindows=calcS(valueOfWindows.value,hWindow.value,wWindow.value),S=(sWalls-(sWindows+sDoors))*layers.value,S<.1)return displayError(),void console.warn("Площадь слишком мала");console.log(`kiloInPack = ${kiloInPack.value}`),console.log(`sWalls = ${sWalls}, sWindows = ${sWindows}, sDoors = ${sDoors}, S = ${S}`),console.log(`kilo = ${kiloValue}, packs = ${packsValue}`),removeError(),updateValues()}}function updateValues(){(kilo.firstChild||packs.firstChild)&&(kilo.removeChild(kilo.firstChild),packs.removeChild(packs.firstChild)),kiloValue=(S/expence.value).toFixed(2),packsValue=Math.ceil(kiloValue/kiloInPack.value),kiloValue>0&&packsValue>0&&kiloValue!=1/0&&packsValue!=1/0?(kilo.appendChild(document.createTextNode(kiloValue)),packs.appendChild(document.createTextNode(packsValue))):displayError()}addListeners(),recalc();